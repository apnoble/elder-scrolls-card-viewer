{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./src/components/layout/GridContainer.vue?a029","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/components/layout/GridContainer.vue?4181","webpack:///src/components/layout/GridContainer.vue","webpack:///./src/components/layout/GridContainer.vue?df47","webpack:///./src/components/layout/GridContainer.vue?9e7c"],"names":["$","$values","values","target","stat","O","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","keys","length","i","result","call","push","module","exports","entries","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","searchCopy","cardsCopy","loading","loadingSearch","staticStyle","_v","_e","ref","loadMoreID","staticRenderFns","component"],"mappings":"qGAAA,IAAIA,EAAI,EAAQ,QACZC,EAAU,EAAQ,QAAgCC,OAItDF,EAAE,CAAEG,OAAQ,SAAUC,MAAM,GAAQ,CAClCF,OAAQ,SAAgBG,GACtB,OAAOJ,EAAQI,O,oCCPnB,W,8CCAA,IAAIC,EAAc,EAAQ,QACtBC,EAAa,EAAQ,QACrBC,EAAkB,EAAQ,QAC1BC,EAAuB,EAAQ,QAA8CC,EAG7EC,EAAe,SAAUC,GAC3B,OAAO,SAAUC,GACf,IAKIC,EALAT,EAAIG,EAAgBK,GACpBE,EAAOR,EAAWF,GAClBW,EAASD,EAAKC,OACdC,EAAI,EACJC,EAAS,GAEb,MAAOF,EAASC,EACdH,EAAMC,EAAKE,KACNX,IAAeG,EAAqBU,KAAKd,EAAGS,IAC/CI,EAAOE,KAAKR,EAAa,CAACE,EAAKT,EAAES,IAAQT,EAAES,IAG/C,OAAOI,IAIXG,EAAOC,QAAU,CAGfC,QAASZ,GAAa,GAGtBT,OAAQS,GAAa,K,yCC9BvB,IAAIa,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,aAAa,CAAEN,EAAc,WAAEI,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQP,EAAIQ,cAAcJ,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQP,EAAIS,aAAcR,KAAKS,SAAWT,KAAKU,cAAeP,EAAG,MAAM,CAACQ,YAAY,CAAC,aAAa,SAAS,CAACR,EAAG,MAAM,CAACE,YAAY,UAAU,CAACN,EAAIa,GAAG,kBAAkBb,EAAIc,MAAM,GAAGV,EAAG,MAAM,CAACW,IAAIf,EAAIgB,WAAWV,YAAY,WAAWC,MAAM,CAAC,GAAKP,EAAIgB,iBAC3dC,EAAkB,G,wHCiBtB,GAEE,WAAF,CACI,SAAJ,WAAM,OAAN,kDAGE,MAAF,CACI,MAAJ,CACM,KAAN,OACM,UAAN,GAEI,WAAJ,CACM,KAAN,QACM,UAAN,GAEI,cAAJ,CACM,KAAN,QACM,UAAN,IAIE,KArBF,WAsBI,MAAJ,CAEM,SAAN,EACM,YAAN,EACM,aAAN,EAEM,gBAAN,UAIE,SAAF,iCACA,gBACA,QACA,YAHA,IAKI,UAAJ,WACM,OAAN,uDAEI,WAAJ,WACM,OAAN,iEAEI,WAAJ,WACM,MAAN,gBAEI,WAAJ,WACM,OAAN,6BAGE,QAAF,iCACA,8BADA,IAGI,YAAJ,WACM,KAAN,YAEI,YAAJ,WACM,KAAN,YAEI,UAAJ,WAAM,IAAN,uDAAQ,OAAR,iFACA,oBACA,mBAFA,SAIA,yDAJA,OAKA,mBACA,oBANA,gDAAM,SAAN,IAAQ,OAAR,wBAAM,OAAN,KAQI,kBAAJ,WAAM,IAAN,OACM,IAAN,iBAGQ,IAAR,GACU,UAAV,IAIA,wCAEA,qCACY,EAAZ,mBAGA,GAGQ,EAAR,gCAII,kBAAJ,WACM,KAAN,6CAGI,KAAJ,WACM,KAAN,oBACM,KAAN,uBAIE,QAnGF,WAoGI,KAAJ,eAEE,QAtGF,WAsGI,IAAJ,OAAI,OAAJ,sIAEA,aAIA,gBAHA,SAHA,+CCxHsW,I,wBCQlWC,EAAY,eACd,EACAnB,EACAkB,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-706ec01e.5e097036.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridContainer.vue?vue&type=style&index=0&id=bef2b7c4&scoped=true&lang=css&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('main',{staticClass:\"container\"},[(_vm.searchMode)?_c('card-grid',{attrs:{\"cards\":_vm.searchCopy}}):_c('card-grid',{attrs:{\"cards\":_vm.cardsCopy}}),(this.loading || this.loadingSearch)?_c('div',{staticStyle:{\"margin-top\":\"2rem\"}},[_c('div',{staticClass:\"loader\"},[_vm._v(\"Loading...\")])]):_vm._e()],1),_c('div',{ref:_vm.loadMoreID,staticClass:\"loadMore\",attrs:{\"id\":_vm.loadMoreID}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <main class=\"container\">\n            <card-grid v-if=\"searchMode\" :cards=\"searchCopy\"></card-grid>\n            <card-grid v-else :cards=\"cardsCopy\"></card-grid>\n\n            <div v-if=\"this.loading || this.loadingSearch\" style=\"margin-top:2rem\">\n                <div class=\"loader\">Loading...</div>\n            </div>\n        </main>\n        <!-- loadMore is an element that the infinite scroll observes and anchors to -->\n        <div :id=\"loadMoreID\" :ref=\"loadMoreID\" class=\"loadMore\"></div>\n    </div>\n</template>\n\n<script>\n\nimport {mapGetters, mapActions} from 'vuex';\nexport default {\n    \n    components: {\n        CardGrid: () => import('../cards/CardGrid.vue')\n    },\n    \n    props :{\n        title: {\n            type: String,\n            required: false,\n        },\n        searchMode: {\n            type: Boolean,\n            required: true\n        },\n        loadingSearch:{\n            type: Boolean,\n            required: false\n        }\n    },\n\n    data(){\n        return {\n            // these are flags to make it so that the loading works properly on infinite scroll\n            loading: false,\n            registered: false,\n            loadingMore: false,\n            // this is the element that the infinite scroll observer anchors too\n            loadMoreElement: Element,\n        }\n    },\n\n    computed: {\n        ...mapGetters([\n            'cards',\n            'search' \n        ]),\n        cardsCopy: function() {\n            return this.cards ? [...this.cards[\"all\"].cards] : [];\n        },\n        searchCopy: function() {\n            return this.search ? [...Object.values(this.search.cards)] : [];\n        },\n        loadMoreID: function() {\n            return `loadMore-all`\n        },\n        pageNumber: function() {\n            return this.cards[\"all\"].page || 1;\n        }\n    },\n    methods: {\n        ...mapActions(['getCards']),\n\n        showLoading: function() {\n            this.loading = true;\n        },\n        hideLoading: function() {\n            this.loading = false;\n        },\n        loadCards: async function(){\n            this.loadingMore = true;\n            this.showLoading();\n            // makes an api call for the next page of cards\n            await this.getCards({rarity: \"all\", pageNumber: this.pageNumber });\n            this.hideLoading();\n            this.loadingMore = false;\n        },\n        registerObservers: function(){\n            if(!this.registered){\n                // options to set observer threshold\n                // this is the percent the observer needs to be in view to trigger\n                const options = {\n                    threshold: 0.70,\n                };\n\n                // observer will get new cards when in view\n                let observer = new IntersectionObserver((entry) => {\n                    // if we're not currently loading more and we are intersecting on screen\n                    if (entry[0].isIntersecting && !this.loadingMore) {\n                        this.loadCards('all');\n                    }\n                  \n                }, options);\n\n                // observe the loadMore element\n                observer.observe(this.loadMoreElement);\n            }\n        },\n        // set the load more element so the observer can be registered\n        setLoadingElement: function(){\n            this.loadMoreElement = this.$refs[this.loadMoreID];\n        },\n\n        init: function() {\n            this.setLoadingElement();\n            this.registerObservers();\n        }\n    },\n  \n    created() {\n        this.showLoading();\n    },\n    async mounted(){ \n        // don't load more if we're in search mode\n        if(!this.searchMode){ \n            this.init();\n        }\n        else{\n          this.hideLoading();\n        }\n    }\n}\n</script>\n<style scoped>\n/* div element watched by intersection observer */\n.loadMore {\n    height: 200px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GridContainer.vue?vue&type=template&id=bef2b7c4&scoped=true&\"\nimport script from \"./GridContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./GridContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GridContainer.vue?vue&type=style&index=0&id=bef2b7c4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bef2b7c4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}